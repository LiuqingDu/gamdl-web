1. 以gamdl最新版本为基础,实现web端下载applemusic歌曲功能.以调用gamdl当前代码的方式,注意我注视掉了一部分代码,目的是默认下载歌手所有歌曲,参考文档[Readme](README.md)
2. 输入歌手链接,选择语言,下载歌手所有歌曲,并保存到本地,不询问具体下载哪些,直接下载所有的
3. 以歌手id为任务id,保证一个歌手只有一个任务.如果语言不同则更新任务并重新下载
4. 数据库精简,不要保存没必要的数据,不需要保存进度,因为重启的话会对未开始和进行中的任务重新开始.
5. 前端页面显示链接输入,语言选择.当前任务状态,待下载任务列表,提供按钮弹窗查看所有任务,包括任何状态的任务.
6. 暂时只能串行下载,不支持并行下载,同时只能有一个歌手任务下载,其余的歌手任务加入待下载列表,等待当前任务完成后开始下载
7. 考虑程序意外关闭,需要有任务状态保存,并能从上次状态继续下载,启动时需要自动继续.
8. 任务允许取消.取消不会删除,只会改变状态.
9. 任务允许重新启动.重新启动会从头开始尝试下载所有的.
10. 页面提供设置按钮,可以设置cookies.
11. 每个歌手的语言要互相独立,一个歌手任务的语言改变,不会影响其他歌手任务的语言.每个歌手使用自己的语言来下载
14. 任务状态保存到数据库,任务状态参考现有的. 启动时需要自动继续进行中和未开始的任务.
15. 页面任务显示id,歌手姓名,语言,状态,进度(仅进行中显示,如果可以得到进度的话).
16. 项目以docker运行为目标,以github actions自动化部署到dockerhub, 目前只考虑支持amd64
18. 考虑项目需要ffmpeg,考虑依赖的安装.
19. actions实现自动化部署到dockerhub,支持amd, 根据tag来触发发布,其他不要触发.tag为版本号,且自动创建该版本号的docker image tag和指向latest
22. 使用最佳实践.注意项目架构,代码结构,良好注释.
23. 完成后更新readme.md,详细说明项目结构,如何运行,如何部署,如何使用.
24. 更新docker相关文件,包括Dockerfile, docker-compose.yml, .github/workflows/docker.yml
26. 前端页面每个任务添加一个按钮可以跳转到商店链接在新窗口打开.
27. 每个任务可以删除,这个是彻底从数据库删除任务数据.
28. 每个任务可以修改语言,修改语言后,任务状态不变.
29. 在前端重新开始下载那里,加一个可以覆盖文件的重新下载.只有这个才会启用gmald的覆盖选项.其他的正常下载和正常的重新下载都不覆盖.任何方式下载成功后都把这个值恢复为不覆盖.
30. 启动时,在确保config目录存在之后,检查config目录下是否有config.ini,如果没有,则运行一次无任何参数的gamdl,会自动在~/.gamdl/config.ini生成配置文件,然后复制到config目录下.
31. 设置功能允许设置config.ini的内容,类似设置cookies.txt,但是内容是ini格式的,而不是txt格式的.
